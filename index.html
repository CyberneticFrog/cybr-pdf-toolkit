<!doctype html>
<html lang="en">
<head>
  <!-- ========== HEAD / META / ASSETS ========== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CYBR PDF Toolkit</title>

  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="logo.png" />

  <!-- Local PDF-Lib for offline use -->
  <script src="pdf-lib.min.js"></script>
</head>

<body>
  <!-- ========== APP SHELL WRAP ========== -->
  <div class="app">

    <!-- ========== TOP BAR: LOGO / TITLE / VERSION / STATUS ========== -->
    <header class="topbar">
      <div class="brand">
        <img class="brand-logo" src="logo.png" alt="CYBR logo" />
        <div class="brand-text">
          <div class="brand-title">CYBR PDF Toolkit</div>
          <div class="brand-sub">Runs in your browser. Works offline after first load.</div>
        </div>
      </div>

      <div class="topbar-right">
        <div class="pill" id="appVersion" aria-label="App version">2026</div>
        <div class="pill status-pill" aria-label="Status">
          <span class="status-dot" id="statusDot" aria-hidden="true"></span>
          <span id="statusText">Ready</span>
        </div>

        <button class="icon-btn" id="themeToggle" type="button" aria-label="Toggle theme">
          <span class="icon" aria-hidden="true">‚óê</span>
        </button>
      </div>
    </header>

    <!-- ========== BODY GRID: SIDEBAR + WORKSPACE ========== -->
    <div class="body">
      <!-- ========== NAV: SIDEBAR TOOL SELECTOR ========== -->
      <nav class="sidebar" aria-label="Tools">
        <button class="nav-item active" id="nav-home" type="button" aria-current="page">
          <span class="nav-ic" aria-hidden="true">‚åÇ</span>
          <span class="nav-label">Home</span>
        </button>

        <button class="nav-item" id="nav-splitRanges" type="button">
          <span class="nav-ic" aria-hidden="true">‚ü†</span>
          <span class="nav-label">Split</span>
        </button>

        <button class="nav-item" id="nav-merge" type="button">
          <span class="nav-ic" aria-hidden="true">‚áÑ</span>
          <span class="nav-label">Merge</span>
        </button>

        <button class="nav-item" id="nav-extract" type="button">
          <span class="nav-ic" aria-hidden="true">‚§ì</span>
          <span class="nav-label">Extract</span>
        </button>

        <button class="nav-item" id="nav-delete" type="button">
          <span class="nav-ic" aria-hidden="true">‚å´</span>
          <span class="nav-label">Delete</span>
        </button>

        <button class="nav-item" id="nav-rotate" type="button">
          <span class="nav-ic" aria-hidden="true">‚ü≥</span>
          <span class="nav-label">Rotate</span>
        </button>

        <button class="nav-item" id="nav-reorder" type="button">
          <span class="nav-ic" aria-hidden="true">‚â°</span>
          <span class="nav-label">Reorder</span>
        </button>

        <button class="nav-item" id="nav-splitN" type="button">
          <span class="nav-ic" aria-hidden="true">‚ßâ</span>
          <span class="nav-label">Split N</span>
        </button>

        <button class="nav-item" id="nav-img2pdf" type="button">
          <span class="nav-ic" aria-hidden="true">üñº</span>
          <span class="nav-label">Images</span>
        </button>

        <div class="sidebar-foot">
          <div class="mini">Files stay on your device.</div>
          <div class="mini">CYBR-PDF Toolkit - 2026 - J. Tidswell</div>
        </div>
      </nav>

      <!-- ========== WORKSPACE: ACTIVE TOOL PANEL CONTAINER ========== -->
      <main class="workspace" aria-live="polite">

        <!-- ========== STATUS AREA / TOASTS ========== -->
        <section class="toast-wrap" aria-label="Messages">
          <div class="toast" id="toast" role="status" aria-live="polite">
            <div class="toast-title" id="toastTitle">Ready</div>
            <div class="toast-body" id="toastBody">Select a tool.</div>
          </div>
        </section>

        <!-- ========== PANEL: HOME / WELCOME ========== -->
        <section class="panel active" id="panel-home" aria-label="Home">
          <div class="panel-head">
            <div>
              <div class="panel-title">Welcome</div>
              <div class="panel-sub">Pick a tool. Add files by navigation or drag and drop.</div>
            </div>
          </div>

          <div class="panel-body">
            <!-- Optional install callout -->
            <div class="callout" id="installCallout" hidden>
              <div class="callout-title">Install CYBR PDF Toolkit</div>
              <div class="callout-body">Install adds an app icon and enables a standalone window.</div>
              <div class="callout-actions">
                <button class="btn primary" id="installBtn" type="button">Install</button>
                <button class="btn ghost" id="installDismissBtn" type="button">Dismiss</button>
              </div>
            </div>

            <div class="tile-grid" aria-label="Tool tiles">
              <button class="tile" type="button" data-go="splitRanges">
                <div class="tile-ic">‚ü†</div>
                <div class="tile-title">Split</div>
                <div class="tile-sub">Create multiple PDFs from one PDF.</div>
              </button>

              <button class="tile" type="button" data-go="merge">
                <div class="tile-ic">‚áÑ</div>
                <div class="tile-title">Merge</div>
                <div class="tile-sub">Combine PDFs into one file.</div>
              </button>

              <button class="tile" type="button" data-go="extract">
                <div class="tile-ic">‚§ì</div>
                <div class="tile-title">Extract</div>
                <div class="tile-sub">Copy selected pages into a new PDF.</div>
              </button>

              <button class="tile" type="button" data-go="delete">
                <div class="tile-ic">‚å´</div>
                <div class="tile-title">Delete</div>
                <div class="tile-sub">Remove unwanted pages.</div>
              </button>

              <button class="tile" type="button" data-go="rotate">
                <div class="tile-ic">‚ü≥</div>
                <div class="tile-title">Rotate</div>
                <div class="tile-sub">Fix sideways pages.</div>
              </button>

              <button class="tile" type="button" data-go="reorder">
                <div class="tile-ic">‚â°</div>
                <div class="tile-title">Reorder</div>
                <div class="tile-sub">Set a custom page order.</div>
              </button>

              <button class="tile" type="button" data-go="splitN">
                <div class="tile-ic">‚ßâ</div>
                <div class="tile-title">Split N</div>
                <div class="tile-sub">Split every N pages.</div>
              </button>

              <button class="tile" type="button" data-go="img2pdf">
                <div class="tile-ic">üñº</div>
                <div class="tile-title">Images</div>
                <div class="tile-sub">Convert JPG and PNG into a PDF.</div>
              </button>
            </div>

            <div class="home-foot">
              <div class="home-note">Tip: Use 1-based pages. Example: 1-3, 5, 7-10</div>
              <button class="btn ghost" id="homeGoLast" type="button">Open last tool</button>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: SPLIT BY RANGES ========== -->
        <section class="panel" id="panel-splitRanges" aria-label="Split by ranges">
          <div class="panel-head">
            <div>
              <div class="panel-title">Split by ranges</div>
              <div class="panel-sub">Multiple outputs from one PDF.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="sr_help">Help</button>
          </div>

          <div class="help" id="sr_help" hidden>
            <div class="help-title">Split by ranges</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Purpose</span><span class="help-v">Create multiple PDFs from one PDF using range items.</span></div>
              <div class="help-row"><span class="help-k">Ranges</span><span class="help-v">Use 1-based pages. Examples: 5, 7-10, 1-3, 5, 7-10.</span></div>
              <div class="help-row"><span class="help-k">Output</span><span class="help-v">Downloads one file per range item.</span></div>
              <div class="help-row"><span class="help-k">Names</span><span class="help-v">CYBR-Split_p001-003.pdf, CYBR-Split_p005.pdf</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="sr_pdfFile">PDF file</label>
                <div class="drop" id="sr_dropZone" tabindex="0" role="button" aria-label="Drop PDF here or click to browse">
                  <div class="drop-title">Drop a PDF</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="sr_pdfFile" type="file" accept="application/pdf" />
                </div>
                <div class="meta" id="sr_fileInfo">No file loaded.</div>
              </div>

              <div class="card">
                <div class="card-title">Settings</div>

                <label class="lbl" for="sr_baseName">Base filename</label>
                <input class="inp" id="sr_baseName" type="text" value="CYBR-Split" />

                <label class="lbl" for="sr_ranges">Ranges</label>
                <textarea class="inp" id="sr_ranges" rows="4">1-3, 5, 7-10</textarea>

                <label class="check">
                  <input id="sr_keepOrder" type="checkbox" checked />
                  <span>Keep input order</span>
                </label>

                <div class="actions">
                  <button class="btn primary" id="sr_btnRun" type="button">Split</button>
                  <button class="btn ghost" id="sr_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: MERGE ========== -->
        <section class="panel" id="panel-merge" aria-label="Merge PDFs">
          <div class="panel-head">
            <div>
              <div class="panel-title">Merge PDFs</div>
              <div class="panel-sub">One output, ordered list.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="m_help">Help</button>
          </div>

          <div class="help" id="m_help" hidden>
            <div class="help-title">Merge PDFs</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Purpose</span><span class="help-v">Combine multiple PDFs into one PDF.</span></div>
              <div class="help-row"><span class="help-k">Order</span><span class="help-v">Use Up and Down to set output order.</span></div>
              <div class="help-row"><span class="help-k">Output</span><span class="help-v">Downloads one file named CYBR-Merge.pdf by default.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="m_files">PDF files</label>
                <div class="drop" id="m_dropZone" tabindex="0" role="button" aria-label="Drop PDFs here or click to browse">
                  <div class="drop-title">Drop PDFs</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="m_files" type="file" accept="application/pdf" multiple />
                </div>

                <label class="lbl" for="m_baseName">Output filename</label>
                <input class="inp" id="m_baseName" type="text" value="CYBR-Merge" />
              </div>

              <div class="card">
                <div class="card-title">Order</div>

                <div class="list" id="m_listWrap">
                  <div class="empty" id="m_empty">No files added.</div>
                  <ul class="list-ul" id="m_list" aria-label="Merge order list"></ul>
                </div>

                <div class="actions">
                  <button class="btn primary" id="m_btnRun" type="button">Merge</button>
                  <button class="btn ghost" id="m_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: EXTRACT ========== -->
        <section class="panel" id="panel-extract" aria-label="Extract pages">
          <div class="panel-head">
            <div>
              <div class="panel-title">Extract pages</div>
              <div class="panel-sub">One output containing selected pages.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="ex_help">Help</button>
          </div>

          <div class="help" id="ex_help" hidden>
            <div class="help-title">Extract pages</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Purpose</span><span class="help-v">Create one PDF containing only the pages you list.</span></div>
              <div class="help-row"><span class="help-k">Pages</span><span class="help-v">Examples: 1, 3, 5-8.</span></div>
              <div class="help-row"><span class="help-k">Order</span><span class="help-v">Output follows the order you type.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="ex_pdfFile">PDF file</label>
                <div class="drop" id="ex_dropZone" tabindex="0" role="button" aria-label="Drop PDF here or click to browse">
                  <div class="drop-title">Drop a PDF</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="ex_pdfFile" type="file" accept="application/pdf" />
                </div>
                <div class="meta" id="ex_fileInfo">No file loaded.</div>
              </div>

              <div class="card">
                <div class="card-title">Settings</div>

                <label class="lbl" for="ex_baseName">Output filename</label>
                <input class="inp" id="ex_baseName" type="text" value="CYBR-Extract" />

                <label class="lbl" for="ex_pages">Pages to extract</label>
                <textarea class="inp" id="ex_pages" rows="4">1, 3, 5-8</textarea>

                <div class="actions">
                  <button class="btn primary" id="ex_btnRun" type="button">Extract</button>
                  <button class="btn ghost" id="ex_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: DELETE ========== -->
        <section class="panel" id="panel-delete" aria-label="Delete pages">
          <div class="panel-head">
            <div>
              <div class="panel-title">Delete pages</div>
              <div class="panel-sub">One cleaned output.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="del_help">Help</button>
          </div>

          <div class="help" id="del_help" hidden>
            <div class="help-title">Delete pages</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Purpose</span><span class="help-v">Create a new PDF with selected pages removed.</span></div>
              <div class="help-row"><span class="help-k">Pages</span><span class="help-v">Examples: 2, 4-6.</span></div>
              <div class="help-row"><span class="help-k">Rule</span><span class="help-v">You cannot delete all pages.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="del_pdfFile">PDF file</label>
                <div class="drop" id="del_dropZone" tabindex="0" role="button" aria-label="Drop PDF here or click to browse">
                  <div class="drop-title">Drop a PDF</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="del_pdfFile" type="file" accept="application/pdf" />
                </div>
                <div class="meta" id="del_fileInfo">No file loaded.</div>
              </div>

              <div class="card">
                <div class="card-title">Settings</div>

                <label class="lbl" for="del_baseName">Output filename</label>
                <input class="inp" id="del_baseName" type="text" value="CYBR-Delete" />

                <label class="lbl" for="del_pages">Pages to delete</label>
                <textarea class="inp" id="del_pages" rows="4">2, 4-6</textarea>

                <div class="actions">
                  <button class="btn primary" id="del_btnRun" type="button">Delete</button>
                  <button class="btn ghost" id="del_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: ROTATE ========== -->
        <section class="panel" id="panel-rotate" aria-label="Rotate pages">
          <div class="panel-head">
            <div>
              <div class="panel-title">Rotate pages</div>
              <div class="panel-sub">Fix sideways and upside down scans.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="rot_help">Help</button>
          </div>

          <div class="help" id="rot_help" hidden>
            <div class="help-title">Rotate pages</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Degrees</span><span class="help-v">Rotate clockwise: 90, 180, 270.</span></div>
              <div class="help-row"><span class="help-k">All pages</span><span class="help-v">Toggle on to rotate everything, off to target pages.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="rot_pdfFile">PDF file</label>
                <div class="drop" id="rot_dropZone" tabindex="0" role="button" aria-label="Drop PDF here or click to browse">
                  <div class="drop-title">Drop a PDF</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="rot_pdfFile" type="file" accept="application/pdf" />
                </div>
                <div class="meta" id="rot_fileInfo">No file loaded.</div>
              </div>

              <div class="card">
                <div class="card-title">Settings</div>

                <label class="lbl" for="rot_baseName">Output filename</label>
                <input class="inp" id="rot_baseName" type="text" value="CYBR-Rotate" />

                <label class="lbl" for="rot_degrees">Degrees</label>
                <select class="inp" id="rot_degrees">
                  <option value="90">90</option>
                  <option value="180">180</option>
                  <option value="270">270</option>
                </select>

                <label class="check">
                  <input id="rot_all" type="checkbox" checked />
                  <span>Rotate all pages</span>
                </label>

                <div id="rot_pagesWrap">
                  <label class="lbl" for="rot_pages">Pages to rotate</label>
                  <textarea class="inp" id="rot_pages" rows="3">1, 3, 5-8</textarea>
                </div>

                <div class="actions">
                  <button class="btn primary" id="rot_btnRun" type="button">Rotate</button>
                  <button class="btn ghost" id="rot_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: REORDER ========== -->
        <section class="panel" id="panel-reorder" aria-label="Reorder pages">
          <div class="panel-head">
            <div>
              <div class="panel-title">Reorder pages</div>
              <div class="panel-sub">Create a new PDF in your chosen order.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="re_help">Help</button>
          </div>

          <div class="help" id="re_help" hidden>
            <div class="help-title">Reorder pages</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Purpose</span><span class="help-v">Build a new PDF using your page order list.</span></div>
              <div class="help-row"><span class="help-k">Order</span><span class="help-v">Example: 3,1,2,4-10. Duplicates repeat pages.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="re_pdfFile">PDF file</label>
                <div class="drop" id="re_dropZone" tabindex="0" role="button" aria-label="Drop PDF here or click to browse">
                  <div class="drop-title">Drop a PDF</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="re_pdfFile" type="file" accept="application/pdf" />
                </div>
                <div class="meta" id="re_fileInfo">No file loaded.</div>
              </div>

              <div class="card">
                <div class="card-title">Settings</div>

                <label class="lbl" for="re_baseName">Output filename</label>
                <input class="inp" id="re_baseName" type="text" value="CYBR-Reorder" />

                <label class="lbl" for="re_order">New page order</label>
                <textarea class="inp" id="re_order" rows="4">3,1,2,4-10</textarea>

                <div class="actions">
                  <button class="btn primary" id="re_btnRun" type="button">Reorder</button>
                  <button class="btn ghost" id="re_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: SPLIT EVERY N ========== -->
        <section class="panel" id="panel-splitN" aria-label="Split every N pages">
          <div class="panel-head">
            <div>
              <div class="panel-title">Split every N pages</div>
              <div class="panel-sub">Equal sized chunks, multiple outputs.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="sn_help">Help</button>
          </div>

          <div class="help" id="sn_help" hidden>
            <div class="help-title">Split every N pages</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Purpose</span><span class="help-v">Split a PDF into chunks of N pages.</span></div>
              <div class="help-row"><span class="help-k">Rule</span><span class="help-v">Last file may contain fewer pages.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="sn_pdfFile">PDF file</label>
                <div class="drop" id="sn_dropZone" tabindex="0" role="button" aria-label="Drop PDF here or click to browse">
                  <div class="drop-title">Drop a PDF</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="sn_pdfFile" type="file" accept="application/pdf" />
                </div>
                <div class="meta" id="sn_fileInfo">No file loaded.</div>
              </div>

              <div class="card">
                <div class="card-title">Settings</div>

                <label class="lbl" for="sn_baseName">Base filename</label>
                <input class="inp" id="sn_baseName" type="text" value="CYBR-BatchSplit" />

                <label class="lbl" for="sn_n">Pages per file</label>
                <input class="inp" id="sn_n" type="number" min="1" value="5" />

                <div class="actions">
                  <button class="btn primary" id="sn_btnRun" type="button">Split</button>
                  <button class="btn ghost" id="sn_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== PANEL: IMAGES TO PDF ========== -->
        <section class="panel" id="panel-img2pdf" aria-label="Images to PDF">
          <div class="panel-head">
            <div>
              <div class="panel-title">Images to PDF</div>
              <div class="panel-sub">JPG and PNG, ordered list.</div>
            </div>
            <button class="btn ghost help-btn" type="button" data-help="i_help">Help</button>
          </div>

          <div class="help" id="i_help" hidden>
            <div class="help-title">Images to PDF</div>
            <div class="help-body">
              <div class="help-row"><span class="help-k">Inputs</span><span class="help-v">JPG, JPEG, PNG.</span></div>
              <div class="help-row"><span class="help-k">Page size</span><span class="help-v">A4 Portrait, A4 Landscape, Fit to image.</span></div>
              <div class="help-row"><span class="help-k">Margin</span><span class="help-v">Applies to A4 modes only.</span></div>
            </div>
          </div>

          <div class="panel-body">
            <div class="grid">
              <div class="card">
                <div class="card-title">Input</div>

                <label class="lbl" for="i_files">Images</label>
                <div class="drop" id="i_dropZone" tabindex="0" role="button" aria-label="Drop images here or click to browse">
                  <div class="drop-title">Drop images</div>
                  <div class="drop-sub">or click to browse</div>
                  <input id="i_files" type="file" accept="image/png,image/jpeg" multiple />
                </div>

                <label class="lbl" for="i_baseName">Output filename</label>
                <input class="inp" id="i_baseName" type="text" value="CYBR-ImagesToPDF" />

                <label class="lbl" for="i_pageSize">Page size</label>
                <select class="inp" id="i_pageSize">
                  <option value="A4P" selected>A4 Portrait</option>
                  <option value="A4L">A4 Landscape</option>
                  <option value="FIT">Fit to image</option>
                </select>

                <label class="lbl" for="i_margin">Margin (mm)</label>
                <input class="inp" id="i_margin" type="number" min="0" value="10" />
              </div>

              <div class="card">
                <div class="card-title">Order</div>

                <div class="list">
                  <div class="empty" id="i_empty">No images added.</div>
                  <ul class="list-ul" id="i_list" aria-label="Image order list"></ul>
                </div>

                <div class="actions">
                  <button class="btn primary" id="i_btnRun" type="button">Create PDF</button>
                  <button class="btn ghost" id="i_btnClear" type="button">Clear</button>
                </div>
              </div>
            </div>
          </div>
        </section>

      </main>
    </div>
  </div>

  <!-- ========== SCRIPTS: APP / SERVICE WORKER REG ========== -->
  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js").catch(() => {});
    }
  </script>
</body>
</html>
